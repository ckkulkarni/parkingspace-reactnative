d1ab597f246bda3d690b0952d99d0e2a
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn().mockReturnValue({
      navigate: jest.fn()
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _ParkingSpace = _interopRequireDefault(require("../ParkingSpace"));
var _reactNative = require("@testing-library/react-native");
var _native = require("@react-navigation/native");
require("@testing-library/jest-native/extend-expect");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var navigation = (0, _native.useNavigation)();
describe('ParkingSpace component', function () {
  it('Renders correct number of parking spaces', function () {
    var route = {
      params: {
        numspaces: 3
      }
    };
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ParkingSpace.default, {
        route: route
      })),
      getAllByTestId = _render.getAllByTestId;
    var parkingSpaces = getAllByTestId(/parking-space-\d+/);
    expect(parkingSpaces.length).toBe(3);
  });
  it('Clicking on an unoccupied parking space shows parking form', function () {
    var route = {
      params: {
        numspaces: 1
      }
    };
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ParkingSpace.default, {
        route: route
      })),
      getByTestId = _render2.getByTestId,
      getByPlaceholderText = _render2.getByPlaceholderText,
      getByText = _render2.getByText,
      queryByTestId = _render2.queryByTestId;
    var parkingSpace = getByTestId('parking-space-1');
    _reactNative.fireEvent.press(parkingSpace);
    var parkingTimeButton = getByText('Parking Time (tap to change)');
    var carRegistrationInput = getByPlaceholderText('Enter vehicle registration');
    expect(parkingTimeButton).toBeTruthy();
    expect(carRegistrationInput).toBeTruthy();
  });
  it('Submitting parking form marks parking space as occupied', function () {
    var route = {
      params: {
        numspaces: 1
      }
    };
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ParkingSpace.default, {
        route: route
      })),
      getByTestId = _render3.getByTestId,
      getByPlaceholderText = _render3.getByPlaceholderText,
      getByText = _render3.getByText,
      queryByText = _render3.queryByText;
    var parkingSpace = getByTestId('parking-space-1');
    _reactNative.fireEvent.press(parkingSpace);
    var carRegistrationInput = getByPlaceholderText('Enter vehicle registration');
    var submitButton = getByText('Submit');
    _reactNative.fireEvent.changeText(carRegistrationInput, 'ABC123');
    _reactNative.fireEvent.press(submitButton);
    var parkingDetails = getByTestId('parking-space-1').props.children;
    expect(parkingDetails[1].props.children).toBe('ABC123');
    expect(queryByText('tap to change')).toBeNull();
  });
  it('Clicking on an occupied parking space opens payment screen', function () {
    var route = {
      params: {
        numspaces: 1
      }
    };
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ParkingSpace.default, {
        route: route
      })),
      getByTestId = _render4.getByTestId,
      getByPlaceholderText = _render4.getByPlaceholderText,
      getByText = _render4.getByText;
    var parkingSpace = getByTestId('parking-space-1');
    _reactNative.fireEvent.press(parkingSpace);
    var carRegistrationInput = getByPlaceholderText('Enter vehicle registration');
    var submitButton = getByText('Submit');
    _reactNative.fireEvent.changeText(carRegistrationInput, 'ABC123');
    _reactNative.fireEvent.press(submitButton);
    _reactNative.fireEvent.press(parkingSpace);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2NrIiwidXNlTmF2aWdhdGlvbiIsImplc3QiLCJmbiIsIm1vY2tSZXR1cm5WYWx1ZSIsIm5hdmlnYXRlIiwibmF2aWdhdGlvbiIsImRlc2NyaWJlIiwiaXQiLCJyb3V0ZSIsInBhcmFtcyIsIm51bXNwYWNlcyIsInJlbmRlciIsImdldEFsbEJ5VGVzdElkIiwicGFya2luZ1NwYWNlcyIsImV4cGVjdCIsImxlbmd0aCIsInRvQmUiLCJnZXRCeVRlc3RJZCIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwiZ2V0QnlUZXh0IiwicXVlcnlCeVRlc3RJZCIsInBhcmtpbmdTcGFjZSIsImZpcmVFdmVudCIsInByZXNzIiwicGFya2luZ1RpbWVCdXR0b24iLCJjYXJSZWdpc3RyYXRpb25JbnB1dCIsInRvQmVUcnV0aHkiLCJxdWVyeUJ5VGV4dCIsInN1Ym1pdEJ1dHRvbiIsImNoYW5nZVRleHQiLCJwYXJraW5nRGV0YWlscyIsInByb3BzIiwiY2hpbGRyZW4iLCJ0b0JlTnVsbCJdLCJzb3VyY2VzIjpbIlBhcmtpbmdTcGFjZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUGFya2luZ1NwYWNlIGZyb20gJy4uL1BhcmtpbmdTcGFjZSc7XHJcbmltcG9ydCB7cmVuZGVyLCBmaXJlRXZlbnR9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHtOYXRpdmVTdGFja05hdmlnYXRpb25Qcm9wfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUtc3RhY2snO1xyXG5pbXBvcnQge3VzZU5hdmlnYXRpb259IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XHJcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LW5hdGl2ZS9leHRlbmQtZXhwZWN0JztcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZU5hdmlnYXRpb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxyXG4gICAgfSksXHJcbiAgfTtcclxufSk7XHJcbmNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uPE5hdGl2ZVN0YWNrTmF2aWdhdGlvblByb3A8YW55Pj4oKTtcclxuZGVzY3JpYmUoJ1BhcmtpbmdTcGFjZSBjb21wb25lbnQnLCAoKSA9PiB7XHJcbiAgaXQoJ1JlbmRlcnMgY29ycmVjdCBudW1iZXIgb2YgcGFya2luZyBzcGFjZXMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCByb3V0ZSA9IHtwYXJhbXM6IHtudW1zcGFjZXM6IDN9fTtcclxuICAgIGNvbnN0IHtnZXRBbGxCeVRlc3RJZH0gPSByZW5kZXIoPFBhcmtpbmdTcGFjZSByb3V0ZT17cm91dGV9IC8+KTtcclxuICAgIGNvbnN0IHBhcmtpbmdTcGFjZXMgPSBnZXRBbGxCeVRlc3RJZCgvcGFya2luZy1zcGFjZS1cXGQrLyk7XHJcbiAgICBleHBlY3QocGFya2luZ1NwYWNlcy5sZW5ndGgpLnRvQmUoMyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdDbGlja2luZyBvbiBhbiB1bm9jY3VwaWVkIHBhcmtpbmcgc3BhY2Ugc2hvd3MgcGFya2luZyBmb3JtJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgcm91dGUgPSB7cGFyYW1zOiB7bnVtc3BhY2VzOiAxfX07XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0LCBnZXRCeVRleHQsIHF1ZXJ5QnlUZXN0SWR9ID1cclxuICAgICAgcmVuZGVyKDxQYXJraW5nU3BhY2Ugcm91dGU9e3JvdXRlfSAvPik7XHJcbiAgICBjb25zdCBwYXJraW5nU3BhY2UgPSBnZXRCeVRlc3RJZCgncGFya2luZy1zcGFjZS0xJyk7XHJcbiAgICBmaXJlRXZlbnQucHJlc3MocGFya2luZ1NwYWNlKTtcclxuICAgIGNvbnN0IHBhcmtpbmdUaW1lQnV0dG9uID0gZ2V0QnlUZXh0KCdQYXJraW5nIFRpbWUgKHRhcCB0byBjaGFuZ2UpJyk7XHJcbiAgICBjb25zdCBjYXJSZWdpc3RyYXRpb25JbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFxyXG4gICAgICAnRW50ZXIgdmVoaWNsZSByZWdpc3RyYXRpb24nLFxyXG4gICAgKTtcclxuICAgIGV4cGVjdChwYXJraW5nVGltZUJ1dHRvbikudG9CZVRydXRoeSgpO1xyXG4gICAgZXhwZWN0KGNhclJlZ2lzdHJhdGlvbklucHV0KS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdTdWJtaXR0aW5nIHBhcmtpbmcgZm9ybSBtYXJrcyBwYXJraW5nIHNwYWNlIGFzIG9jY3VwaWVkJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgcm91dGUgPSB7cGFyYW1zOiB7bnVtc3BhY2VzOiAxfX07XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0LCBnZXRCeVRleHQsIHF1ZXJ5QnlUZXh0fSA9IHJlbmRlcihcclxuICAgICAgPFBhcmtpbmdTcGFjZSByb3V0ZT17cm91dGV9IC8+LFxyXG4gICAgKTtcclxuICAgIGNvbnN0IHBhcmtpbmdTcGFjZSA9IGdldEJ5VGVzdElkKCdwYXJraW5nLXNwYWNlLTEnKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhwYXJraW5nU3BhY2UpO1xyXG4gICAgY29uc3QgY2FyUmVnaXN0cmF0aW9uSW5wdXQgPSBnZXRCeVBsYWNlaG9sZGVyVGV4dChcclxuICAgICAgJ0VudGVyIHZlaGljbGUgcmVnaXN0cmF0aW9uJyxcclxuICAgICk7XHJcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBnZXRCeVRleHQoJ1N1Ym1pdCcpO1xyXG4gICAgZmlyZUV2ZW50LmNoYW5nZVRleHQoY2FyUmVnaXN0cmF0aW9uSW5wdXQsICdBQkMxMjMnKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhzdWJtaXRCdXR0b24pO1xyXG4gICAgY29uc3QgcGFya2luZ0RldGFpbHMgPSBnZXRCeVRlc3RJZCgncGFya2luZy1zcGFjZS0xJykucHJvcHMuY2hpbGRyZW47XHJcbiAgICBleHBlY3QocGFya2luZ0RldGFpbHNbMV0ucHJvcHMuY2hpbGRyZW4pLnRvQmUoJ0FCQzEyMycpO1xyXG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXh0KCd0YXAgdG8gY2hhbmdlJykpLnRvQmVOdWxsKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdDbGlja2luZyBvbiBhbiBvY2N1cGllZCBwYXJraW5nIHNwYWNlIG9wZW5zIHBheW1lbnQgc2NyZWVuJywgKCkgPT4ge1xyXG4gICAgY29uc3Qgcm91dGUgPSB7cGFyYW1zOiB7bnVtc3BhY2VzOiAxfX07XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWQsIGdldEJ5UGxhY2Vob2xkZXJUZXh0LCBnZXRCeVRleHR9ID0gcmVuZGVyKFxyXG4gICAgICA8UGFya2luZ1NwYWNlIHJvdXRlPXtyb3V0ZX0gLz4sXHJcbiAgICApO1xyXG4gICAgY29uc3QgcGFya2luZ1NwYWNlID0gZ2V0QnlUZXN0SWQoJ3Bhcmtpbmctc3BhY2UtMScpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHBhcmtpbmdTcGFjZSk7XHJcbiAgICBjb25zdCBjYXJSZWdpc3RyYXRpb25JbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFxyXG4gICAgICAnRW50ZXIgdmVoaWNsZSByZWdpc3RyYXRpb24nLFxyXG4gICAgKTtcclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGdldEJ5VGV4dCgnU3VibWl0Jyk7XHJcbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChjYXJSZWdpc3RyYXRpb25JbnB1dCwgJ0FCQzEyMycpO1xyXG4gICAgZmlyZUV2ZW50LnByZXNzKHN1Ym1pdEJ1dHRvbik7XHJcbiAgICBmaXJlRXZlbnQucHJlc3MocGFya2luZ1NwYWNlKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBTUEsY0FBS0EsSUFBSSxDQUFDLDBCQUEwQixFQUFF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