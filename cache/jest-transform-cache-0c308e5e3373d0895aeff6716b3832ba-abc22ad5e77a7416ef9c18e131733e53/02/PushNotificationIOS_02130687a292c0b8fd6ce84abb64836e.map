{"version":3,"names":["PushNotificationEmitter","NativeEventEmitter","Platform","OS","NativePushNotificationManagerIOS","_notifHandlers","Map","DEVICE_NOTIF_EVENT","NOTIF_REGISTER_EVENT","NOTIF_REGISTRATION_ERROR_EVENT","DEVICE_LOCAL_NOTIF_EVENT","PushNotificationIOS","nativeNotif","_data","_alert","_sound","_category","_contentAvailable","_badgeCount","_notificationId","_isRemote","_remoteNotificationCompleteCallbackCalled","_threadID","remote","notificationId","Object","keys","forEach","notifKey","notifVal","alert","sound","badge","category","applicationIconBadgeNumber","soundName","alertBody","userInfo","fetchResult","invariant","onFinishRemoteNotification","details","presentLocalNotification","scheduleLocalNotification","cancelAllLocalNotifications","removeAllDeliveredNotifications","callback","getDeliveredNotifications","identifiers","removeDeliveredNotifications","number","setApplicationIconBadgeNumber","getApplicationIconBadgeNumber","cancelLocalNotifications","getScheduledLocalNotifications","type","handler","listener","addListener","notifData","registrationInfo","deviceToken","errorInfo","set","get","remove","delete","permissions","requestedPermissions","requestPermissions","abandonPermissions","checkPermissions","getInitialNotification","then","notification","getAuthorizationStatus","FetchResult","NewData","NoData","ResultFailed","module","exports"],"sources":["PushNotificationIOS.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport type {EventSubscription} from '../vendor/emitter/EventEmitter';\n\nimport NativeEventEmitter from '../EventEmitter/NativeEventEmitter';\nimport Platform from '../Utilities/Platform';\nimport NativePushNotificationManagerIOS from './NativePushNotificationManagerIOS';\nimport invariant from 'invariant';\n\ntype NativePushNotificationIOSEventDefinitions = {\n  remoteNotificationReceived: [\n    {\n      notificationId: string,\n      remote: boolean,\n      ...\n    },\n  ],\n  remoteNotificationsRegistered: [\n    {\n      deviceToken?: ?string,\n      ...\n    },\n  ],\n  remoteNotificationRegistrationError: [\n    {\n      message: string,\n      code: number,\n      details: {...},\n    },\n  ],\n  localNotificationReceived: [{...}],\n};\n\nconst PushNotificationEmitter =\n  new NativeEventEmitter<NativePushNotificationIOSEventDefinitions>(\n    // T88715063: NativeEventEmitter only used this parameter on iOS. Now it uses it on all platforms, so this code was modified automatically to preserve its behavior\n    // If you want to use the native module on other platforms, please remove this condition and test its behavior\n    Platform.OS !== 'ios' ? null : NativePushNotificationManagerIOS,\n  );\n\nconst _notifHandlers = new Map<string, void | EventSubscription>();\n\nconst DEVICE_NOTIF_EVENT = 'remoteNotificationReceived';\nconst NOTIF_REGISTER_EVENT = 'remoteNotificationsRegistered';\nconst NOTIF_REGISTRATION_ERROR_EVENT = 'remoteNotificationRegistrationError';\nconst DEVICE_LOCAL_NOTIF_EVENT = 'localNotificationReceived';\n\nexport type ContentAvailable = 1 | null | void;\n\nexport type FetchResult = {\n  NewData: string,\n  NoData: string,\n  ResultFailed: string,\n  ...\n};\n\n/**\n * An event emitted by PushNotificationIOS.\n */\nexport type PushNotificationEventName = $Keys<{\n  /**\n   * Fired when a remote notification is received. The handler will be invoked\n   * with an instance of `PushNotificationIOS`.\n   */\n  notification: string,\n  /**\n   * Fired when a local notification is received. The handler will be invoked\n   * with an instance of `PushNotificationIOS`.\n   */\n  localNotification: string,\n  /**\n   * Fired when the user registers for remote notifications. The handler will be\n   * invoked with a hex string representing the deviceToken.\n   */\n  register: string,\n  /**\n   * Fired when the user fails to register for remote notifications. Typically\n   * occurs when APNS is having issues, or the device is a simulator. The\n   * handler will be invoked with {message: string, code: number, details: any}.\n   */\n  registrationError: string,\n  ...\n}>;\n\n/**\n *\n * Handle push notifications for your app, including permission handling and\n * icon badge number.\n *\n * See https://reactnative.dev/docs/pushnotificationios\n */\nclass PushNotificationIOS {\n  _data: Object;\n  _alert: string | Object;\n  _sound: string;\n  _category: string;\n  _contentAvailable: ContentAvailable;\n  _badgeCount: number;\n  _notificationId: string;\n  _isRemote: boolean;\n  _remoteNotificationCompleteCallbackCalled: boolean;\n  _threadID: string;\n\n  static FetchResult: FetchResult = {\n    NewData: 'UIBackgroundFetchResultNewData',\n    NoData: 'UIBackgroundFetchResultNoData',\n    ResultFailed: 'UIBackgroundFetchResultFailed',\n  };\n\n  /**\n   * Schedules the localNotification for immediate presentation.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#presentlocalnotification\n   */\n  static presentLocalNotification(details: Object): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.presentLocalNotification(details);\n  }\n\n  /**\n   * Schedules the localNotification for future presentation.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#schedulelocalnotification\n   */\n  static scheduleLocalNotification(details: Object): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.scheduleLocalNotification(details);\n  }\n\n  /**\n   * Cancels all scheduled localNotifications.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#cancelalllocalnotifications\n   */\n  static cancelAllLocalNotifications(): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.cancelAllLocalNotifications();\n  }\n\n  /**\n   * Remove all delivered notifications from Notification Center.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#removealldeliverednotifications\n   */\n  static removeAllDeliveredNotifications(): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.removeAllDeliveredNotifications();\n  }\n\n  /**\n   * Provides you with a list of the appâ€™s notifications that are still displayed in Notification Center.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getdeliverednotifications\n   */\n  static getDeliveredNotifications(\n    callback: (notifications: Array<Object>) => void,\n  ): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.getDeliveredNotifications(callback);\n  }\n\n  /**\n   * Removes the specified notifications from Notification Center\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#removedeliverednotifications\n   */\n  static removeDeliveredNotifications(identifiers: Array<string>): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.removeDeliveredNotifications(identifiers);\n  }\n\n  /**\n   * Sets the badge number for the app icon on the home screen.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#setapplicationiconbadgenumber\n   */\n  static setApplicationIconBadgeNumber(number: number): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.setApplicationIconBadgeNumber(number);\n  }\n\n  /**\n   * Gets the current badge number for the app icon on the home screen.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getapplicationiconbadgenumber\n   */\n  static getApplicationIconBadgeNumber(callback: Function): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.getApplicationIconBadgeNumber(callback);\n  }\n\n  /**\n   * Cancel local notifications.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#cancellocalnotification\n   */\n  static cancelLocalNotifications(userInfo: Object): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.cancelLocalNotifications(userInfo);\n  }\n\n  /**\n   * Gets the local notifications that are currently scheduled.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getscheduledlocalnotifications\n   */\n  static getScheduledLocalNotifications(callback: Function): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.getScheduledLocalNotifications(callback);\n  }\n\n  /**\n   * Attaches a listener to remote or local notification events while the app\n   * is running in the foreground or the background.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#addeventlistener\n   */\n  static addEventListener(\n    type: PushNotificationEventName,\n    handler: Function,\n  ): void {\n    invariant(\n      type === 'notification' ||\n        type === 'register' ||\n        type === 'registrationError' ||\n        type === 'localNotification',\n      'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events',\n    );\n    let listener;\n    if (type === 'notification') {\n      listener = PushNotificationEmitter.addListener(\n        DEVICE_NOTIF_EVENT,\n        notifData => {\n          handler(new PushNotificationIOS(notifData));\n        },\n      );\n    } else if (type === 'localNotification') {\n      listener = PushNotificationEmitter.addListener(\n        DEVICE_LOCAL_NOTIF_EVENT,\n        notifData => {\n          handler(new PushNotificationIOS(notifData));\n        },\n      );\n    } else if (type === 'register') {\n      listener = PushNotificationEmitter.addListener(\n        NOTIF_REGISTER_EVENT,\n        registrationInfo => {\n          handler(registrationInfo.deviceToken);\n        },\n      );\n    } else if (type === 'registrationError') {\n      listener = PushNotificationEmitter.addListener(\n        NOTIF_REGISTRATION_ERROR_EVENT,\n        errorInfo => {\n          handler(errorInfo);\n        },\n      );\n    }\n    _notifHandlers.set(type, listener);\n  }\n\n  /**\n   * Removes the event listener. Do this in `componentWillUnmount` to prevent\n   * memory leaks.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#removeeventlistener\n   */\n  static removeEventListener(\n    type: PushNotificationEventName,\n    handler: Function,\n  ): void {\n    invariant(\n      type === 'notification' ||\n        type === 'register' ||\n        type === 'registrationError' ||\n        type === 'localNotification',\n      'PushNotificationIOS only supports `notification`, `register`, `registrationError`, and `localNotification` events',\n    );\n    const listener = _notifHandlers.get(type);\n    if (!listener) {\n      return;\n    }\n    listener.remove();\n    _notifHandlers.delete(type);\n  }\n\n  /**\n   * Requests notification permissions from iOS, prompting the user's\n   * dialog box. By default, it will request all notification permissions, but\n   * a subset of these can be requested by passing a map of requested\n   * permissions.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#requestpermissions\n   */\n  static requestPermissions(permissions?: {\n    alert?: boolean,\n    badge?: boolean,\n    sound?: boolean,\n    ...\n  }): Promise<{\n    alert: boolean,\n    badge: boolean,\n    sound: boolean,\n    ...\n  }> {\n    let requestedPermissions = {\n      alert: true,\n      badge: true,\n      sound: true,\n    };\n    if (permissions) {\n      requestedPermissions = {\n        alert: !!permissions.alert,\n        badge: !!permissions.badge,\n        sound: !!permissions.sound,\n      };\n    }\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    return NativePushNotificationManagerIOS.requestPermissions(\n      requestedPermissions,\n    );\n  }\n\n  /**\n   * Unregister for all remote notifications received via Apple Push Notification service.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#abandonpermissions\n   */\n  static abandonPermissions(): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.abandonPermissions();\n  }\n\n  /**\n   * See what push permissions are currently enabled. `callback` will be\n   * invoked with a `permissions` object.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#checkpermissions\n   */\n  static checkPermissions(callback: Function): void {\n    invariant(typeof callback === 'function', 'Must provide a valid callback');\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.checkPermissions(callback);\n  }\n\n  /**\n   * This method returns a promise that resolves to either the notification\n   * object if the app was launched by a push notification, or `null` otherwise.\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getinitialnotification\n   */\n  static getInitialNotification(): Promise<?PushNotificationIOS> {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    return NativePushNotificationManagerIOS.getInitialNotification().then(\n      notification => {\n        return notification && new PushNotificationIOS(notification);\n      },\n    );\n  }\n\n  /**\n   * This method returns a promise that resolves to notification authorization status.\n   */\n  static getAuthorizationStatus(\n    callback: (authorizationStatus: number) => void,\n  ): void {\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n\n    NativePushNotificationManagerIOS.getAuthorizationStatus(callback);\n  }\n\n  /**\n   * You will never need to instantiate `PushNotificationIOS` yourself.\n   * Listening to the `notification` event and invoking\n   * `getInitialNotification` is sufficient\n   *\n   */\n  constructor(nativeNotif: Object) {\n    this._data = {};\n    this._remoteNotificationCompleteCallbackCalled = false;\n    this._isRemote = nativeNotif.remote;\n    if (this._isRemote) {\n      this._notificationId = nativeNotif.notificationId;\n    }\n\n    if (nativeNotif.remote) {\n      // Extract data from Apple's `aps` dict as defined:\n      // https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService\n      Object.keys(nativeNotif).forEach(notifKey => {\n        const notifVal = nativeNotif[notifKey];\n        if (notifKey === 'aps') {\n          this._alert = notifVal.alert;\n          this._sound = notifVal.sound;\n          this._badgeCount = notifVal.badge;\n          this._category = notifVal.category;\n          this._contentAvailable = notifVal['content-available'];\n          this._threadID = notifVal['thread-id'];\n        } else {\n          this._data[notifKey] = notifVal;\n        }\n      });\n    } else {\n      // Local notifications aren't being sent down with `aps` dict.\n      this._badgeCount = nativeNotif.applicationIconBadgeNumber;\n      this._sound = nativeNotif.soundName;\n      this._alert = nativeNotif.alertBody;\n      this._data = nativeNotif.userInfo;\n      this._category = nativeNotif.category;\n    }\n  }\n\n  /**\n   * This method is available for remote notifications that have been received via:\n   * `application:didReceiveRemoteNotification:fetchCompletionHandler:`\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#finish\n   */\n  finish(fetchResult: string): void {\n    if (\n      !this._isRemote ||\n      !this._notificationId ||\n      this._remoteNotificationCompleteCallbackCalled\n    ) {\n      return;\n    }\n    this._remoteNotificationCompleteCallbackCalled = true;\n\n    invariant(\n      NativePushNotificationManagerIOS,\n      'PushNotificationManager is not available.',\n    );\n    NativePushNotificationManagerIOS.onFinishRemoteNotification(\n      this._notificationId,\n      fetchResult,\n    );\n  }\n\n  /**\n   * An alias for `getAlert` to get the notification's main message string\n   */\n  getMessage(): ?string | ?Object {\n    // alias because \"alert\" is an ambiguous name\n    return this._alert;\n  }\n\n  /**\n   * Gets the sound string from the `aps` object\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getsound\n   */\n  getSound(): ?string {\n    return this._sound;\n  }\n\n  /**\n   * Gets the category string from the `aps` object\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getcategory\n   */\n  getCategory(): ?string {\n    return this._category;\n  }\n\n  /**\n   * Gets the notification's main message from the `aps` object\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getalert\n   */\n  getAlert(): ?string | ?Object {\n    return this._alert;\n  }\n\n  /**\n   * Gets the content-available number from the `aps` object\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getcontentavailable\n   */\n  getContentAvailable(): ContentAvailable {\n    return this._contentAvailable;\n  }\n\n  /**\n   * Gets the badge count number from the `aps` object\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getbadgecount\n   */\n  getBadgeCount(): ?number {\n    return this._badgeCount;\n  }\n\n  /**\n   * Gets the data object on the notif\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getdata\n   */\n  getData(): ?Object {\n    return this._data;\n  }\n\n  /**\n   * Gets the thread ID on the notif\n   *\n   * See https://reactnative.dev/docs/pushnotificationios#getthreadid\n   */\n  getThreadID(): ?string {\n    return this._threadID;\n  }\n}\n\nmodule.exports = PushNotificationIOS;\n"],"mappings":";;;AAYA;AACA;AACA;AACA;AA0BA,IAAMA,uBAAuB,GAC3B,IAAIC,2BAAkB,CAGpBC,iBAAQ,CAACC,EAAE,KAAK,KAAK,GAAG,IAAI,GAAGC,yCAAgC,CAChE;AAEH,IAAMC,cAAc,GAAG,IAAIC,GAAG,EAAoC;AAElE,IAAMC,kBAAkB,GAAG,4BAA4B;AACvD,IAAMC,oBAAoB,GAAG,+BAA+B;AAC5D,IAAMC,8BAA8B,GAAG,qCAAqC;AAC5E,IAAMC,wBAAwB,GAAG,2BAA2B;AAAC,IA8CvDC,mBAAmB;EA2UvB,6BAAYC,WAAmB,EAAE;IAAA;IAAA;IAAA,KA1UjCC,KAAK;IAAA,KACLC,MAAM;IAAA,KACNC,MAAM;IAAA,KACNC,SAAS;IAAA,KACTC,iBAAiB;IAAA,KACjBC,WAAW;IAAA,KACXC,eAAe;IAAA,KACfC,SAAS;IAAA,KACTC,yCAAyC;IAAA,KACzCC,SAAS;IAkUP,IAAI,CAACT,KAAK,GAAG,CAAC,CAAC;IACf,IAAI,CAACQ,yCAAyC,GAAG,KAAK;IACtD,IAAI,CAACD,SAAS,GAAGR,WAAW,CAACW,MAAM;IACnC,IAAI,IAAI,CAACH,SAAS,EAAE;MAClB,IAAI,CAACD,eAAe,GAAGP,WAAW,CAACY,cAAc;IACnD;IAEA,IAAIZ,WAAW,CAACW,MAAM,EAAE;MAGtBE,MAAM,CAACC,IAAI,CAACd,WAAW,CAAC,CAACe,OAAO,CAAC,UAAAC,QAAQ,EAAI;QAC3C,IAAMC,QAAQ,GAAGjB,WAAW,CAACgB,QAAQ,CAAC;QACtC,IAAIA,QAAQ,KAAK,KAAK,EAAE;UACtB,KAAI,CAACd,MAAM,GAAGe,QAAQ,CAACC,KAAK;UAC5B,KAAI,CAACf,MAAM,GAAGc,QAAQ,CAACE,KAAK;UAC5B,KAAI,CAACb,WAAW,GAAGW,QAAQ,CAACG,KAAK;UACjC,KAAI,CAAChB,SAAS,GAAGa,QAAQ,CAACI,QAAQ;UAClC,KAAI,CAAChB,iBAAiB,GAAGY,QAAQ,CAAC,mBAAmB,CAAC;UACtD,KAAI,CAACP,SAAS,GAAGO,QAAQ,CAAC,WAAW,CAAC;QACxC,CAAC,MAAM;UACL,KAAI,CAAChB,KAAK,CAACe,QAAQ,CAAC,GAAGC,QAAQ;QACjC;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MAEL,IAAI,CAACX,WAAW,GAAGN,WAAW,CAACsB,0BAA0B;MACzD,IAAI,CAACnB,MAAM,GAAGH,WAAW,CAACuB,SAAS;MACnC,IAAI,CAACrB,MAAM,GAAGF,WAAW,CAACwB,SAAS;MACnC,IAAI,CAACvB,KAAK,GAAGD,WAAW,CAACyB,QAAQ;MACjC,IAAI,CAACrB,SAAS,GAAGJ,WAAW,CAACqB,QAAQ;IACvC;EACF;EAAC;IAAA;IAAA,OAQD,gBAAOK,WAAmB,EAAQ;MAChC,IACE,CAAC,IAAI,CAAClB,SAAS,IACf,CAAC,IAAI,CAACD,eAAe,IACrB,IAAI,CAACE,yCAAyC,EAC9C;QACA;MACF;MACA,IAAI,CAACA,yCAAyC,GAAG,IAAI;MAErD,IAAAkB,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACoC,0BAA0B,CACzD,IAAI,CAACrB,eAAe,EACpBmB,WAAW,CACZ;IACH;EAAC;IAAA;IAAA,OAKD,sBAAgC;MAE9B,OAAO,IAAI,CAACxB,MAAM;IACpB;EAAC;IAAA;IAAA,OAOD,oBAAoB;MAClB,OAAO,IAAI,CAACC,MAAM;IACpB;EAAC;IAAA;IAAA,OAOD,uBAAuB;MACrB,OAAO,IAAI,CAACC,SAAS;IACvB;EAAC;IAAA;IAAA,OAOD,oBAA8B;MAC5B,OAAO,IAAI,CAACF,MAAM;IACpB;EAAC;IAAA;IAAA,OAOD,+BAAwC;MACtC,OAAO,IAAI,CAACG,iBAAiB;IAC/B;EAAC;IAAA;IAAA,OAOD,yBAAyB;MACvB,OAAO,IAAI,CAACC,WAAW;IACzB;EAAC;IAAA;IAAA,OAOD,mBAAmB;MACjB,OAAO,IAAI,CAACL,KAAK;IACnB;EAAC;IAAA;IAAA,OAOD,uBAAuB;MACrB,OAAO,IAAI,CAACS,SAAS;IACvB;EAAC;IAAA;IAAA,OArbD,kCAAgCmB,OAAe,EAAQ;MACrD,IAAAF,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACsC,wBAAwB,CAACD,OAAO,CAAC;IACpE;EAAC;IAAA;IAAA,OAOD,mCAAiCA,OAAe,EAAQ;MACtD,IAAAF,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACuC,yBAAyB,CAACF,OAAO,CAAC;IACrE;EAAC;IAAA;IAAA,OAOD,uCAA2C;MACzC,IAAAF,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACwC,2BAA2B,EAAE;IAChE;EAAC;IAAA;IAAA,OAOD,2CAA+C;MAC7C,IAAAL,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACyC,+BAA+B,EAAE;IACpE;EAAC;IAAA;IAAA,OAOD,mCACEC,QAAgD,EAC1C;MACN,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAAC2C,yBAAyB,CAACD,QAAQ,CAAC;IACtE;EAAC;IAAA;IAAA,OAOD,sCAAoCE,WAA0B,EAAQ;MACpE,IAAAT,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAAC6C,4BAA4B,CAACD,WAAW,CAAC;IAC5E;EAAC;IAAA;IAAA,OAOD,uCAAqCE,MAAc,EAAQ;MACzD,IAAAX,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAAC+C,6BAA6B,CAACD,MAAM,CAAC;IACxE;EAAC;IAAA;IAAA,OAOD,uCAAqCJ,QAAkB,EAAQ;MAC7D,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACgD,6BAA6B,CAACN,QAAQ,CAAC;IAC1E;EAAC;IAAA;IAAA,OAOD,kCAAgCT,QAAgB,EAAQ;MACtD,IAAAE,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACiD,wBAAwB,CAAChB,QAAQ,CAAC;IACrE;EAAC;IAAA;IAAA,OAOD,wCAAsCS,QAAkB,EAAQ;MAC9D,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACkD,8BAA8B,CAACR,QAAQ,CAAC;IAC3E;EAAC;IAAA;IAAA,OAQD,0BACES,IAA+B,EAC/BC,OAAiB,EACX;MACN,IAAAjB,kBAAS,EACPgB,IAAI,KAAK,cAAc,IACrBA,IAAI,KAAK,UAAU,IACnBA,IAAI,KAAK,mBAAmB,IAC5BA,IAAI,KAAK,mBAAmB,EAC9B,mHAAmH,CACpH;MACD,IAAIE,QAAQ;MACZ,IAAIF,IAAI,KAAK,cAAc,EAAE;QAC3BE,QAAQ,GAAGzD,uBAAuB,CAAC0D,WAAW,CAC5CnD,kBAAkB,EAClB,UAAAoD,SAAS,EAAI;UACXH,OAAO,CAAC,IAAI7C,mBAAmB,CAACgD,SAAS,CAAC,CAAC;QAC7C,CAAC,CACF;MACH,CAAC,MAAM,IAAIJ,IAAI,KAAK,mBAAmB,EAAE;QACvCE,QAAQ,GAAGzD,uBAAuB,CAAC0D,WAAW,CAC5ChD,wBAAwB,EACxB,UAAAiD,SAAS,EAAI;UACXH,OAAO,CAAC,IAAI7C,mBAAmB,CAACgD,SAAS,CAAC,CAAC;QAC7C,CAAC,CACF;MACH,CAAC,MAAM,IAAIJ,IAAI,KAAK,UAAU,EAAE;QAC9BE,QAAQ,GAAGzD,uBAAuB,CAAC0D,WAAW,CAC5ClD,oBAAoB,EACpB,UAAAoD,gBAAgB,EAAI;UAClBJ,OAAO,CAACI,gBAAgB,CAACC,WAAW,CAAC;QACvC,CAAC,CACF;MACH,CAAC,MAAM,IAAIN,IAAI,KAAK,mBAAmB,EAAE;QACvCE,QAAQ,GAAGzD,uBAAuB,CAAC0D,WAAW,CAC5CjD,8BAA8B,EAC9B,UAAAqD,SAAS,EAAI;UACXN,OAAO,CAACM,SAAS,CAAC;QACpB,CAAC,CACF;MACH;MACAzD,cAAc,CAAC0D,GAAG,CAACR,IAAI,EAAEE,QAAQ,CAAC;IACpC;EAAC;IAAA;IAAA,OAQD,6BACEF,IAA+B,EAC/BC,OAAiB,EACX;MACN,IAAAjB,kBAAS,EACPgB,IAAI,KAAK,cAAc,IACrBA,IAAI,KAAK,UAAU,IACnBA,IAAI,KAAK,mBAAmB,IAC5BA,IAAI,KAAK,mBAAmB,EAC9B,mHAAmH,CACpH;MACD,IAAME,QAAQ,GAAGpD,cAAc,CAAC2D,GAAG,CAACT,IAAI,CAAC;MACzC,IAAI,CAACE,QAAQ,EAAE;QACb;MACF;MACAA,QAAQ,CAACQ,MAAM,EAAE;MACjB5D,cAAc,CAAC6D,MAAM,CAACX,IAAI,CAAC;IAC7B;EAAC;IAAA;IAAA,OAUD,4BAA0BY,WAKzB,EAKE;MACD,IAAIC,oBAAoB,GAAG;QACzBtC,KAAK,EAAE,IAAI;QACXE,KAAK,EAAE,IAAI;QACXD,KAAK,EAAE;MACT,CAAC;MACD,IAAIoC,WAAW,EAAE;QACfC,oBAAoB,GAAG;UACrBtC,KAAK,EAAE,CAAC,CAACqC,WAAW,CAACrC,KAAK;UAC1BE,KAAK,EAAE,CAAC,CAACmC,WAAW,CAACnC,KAAK;UAC1BD,KAAK,EAAE,CAAC,CAACoC,WAAW,CAACpC;QACvB,CAAC;MACH;MACA,IAAAQ,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACD,OAAOA,yCAAgC,CAACiE,kBAAkB,CACxDD,oBAAoB,CACrB;IACH;EAAC;IAAA;IAAA,OAOD,8BAAkC;MAChC,IAAA7B,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACkE,kBAAkB,EAAE;IACvD;EAAC;IAAA;IAAA,OAQD,0BAAwBxB,QAAkB,EAAQ;MAChD,IAAAP,kBAAS,EAAC,OAAOO,QAAQ,KAAK,UAAU,EAAE,+BAA+B,CAAC;MAC1E,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACDA,yCAAgC,CAACmE,gBAAgB,CAACzB,QAAQ,CAAC;IAC7D;EAAC;IAAA;IAAA,OAQD,kCAA+D;MAC7D,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MACD,OAAOA,yCAAgC,CAACoE,sBAAsB,EAAE,CAACC,IAAI,CACnE,UAAAC,YAAY,EAAI;QACd,OAAOA,YAAY,IAAI,IAAI/D,mBAAmB,CAAC+D,YAAY,CAAC;MAC9D,CAAC,CACF;IACH;EAAC;IAAA;IAAA,OAKD,gCACE5B,QAA+C,EACzC;MACN,IAAAP,kBAAS,EACPnC,yCAAgC,EAChC,2CAA2C,CAC5C;MAEDA,yCAAgC,CAACuE,sBAAsB,CAAC7B,QAAQ,CAAC;IACnE;EAAC;EAAA;AAAA;AAnUGnC,mBAAmB,CAYhBiE,WAAW,GAAgB;EAChCC,OAAO,EAAE,gCAAgC;EACzCC,MAAM,EAAE,+BAA+B;EACvCC,YAAY,EAAE;AAChB,CAAC;AA+bHC,MAAM,CAACC,OAAO,GAAGtE,mBAAmB"}