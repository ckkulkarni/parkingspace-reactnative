{"version":3,"names":["mock","useNavigation","jest","fn","mockReturnValue","navigate","navigation","describe","it","route","params","numspaces","render","getAllByTestId","parkingSpaces","expect","length","toBe","getByTestId","getByPlaceholderText","getByText","queryByTestId","parkingSpace","fireEvent","press","parkingTimeButton","carRegistrationInput","toBeTruthy","closeButton","selectedParkingSpace","toBeFalsy","queryByText","submitButton","changeText","occupiedSpace","toHaveStyle","backgroundColor","parkingDetails","props","children","console","log","toBeNull"],"sources":["ParkingSpace.test.tsx"],"sourcesContent":["import React from 'react';\r\nimport ParkingSpace from '../ParkingSpace';\r\nimport {render, fireEvent} from '@testing-library/react-native';\r\nimport {NativeStackNavigationProp} from '@react-navigation/native-stack';\r\nimport {useNavigation} from '@react-navigation/native';\r\nimport '@testing-library/jest-native/extend-expect';\r\njest.mock('@react-navigation/native', () => {\r\n  return {\r\n    useNavigation: jest.fn().mockReturnValue({\r\n      navigate: jest.fn(),\r\n    }),\r\n  };\r\n});\r\nconst navigation = useNavigation<NativeStackNavigationProp<any>>();\r\ndescribe('ParkingSpace component', () => {\r\n  it('Renders correct number of parking spaces', () => {\r\n    const route = {params: {numspaces: 3}};\r\n    const {getAllByTestId} = render(<ParkingSpace route={route} />);\r\n    const parkingSpaces = getAllByTestId(/parking-space-\\d+/);\r\n    expect(parkingSpaces.length).toBe(3);\r\n  });\r\n\r\n  it('Clicking on an unoccupied parking space shows parking form', () => {\r\n    const route = {params: {numspaces: 1}};\r\n    const {getByTestId, getByPlaceholderText, getByText, queryByTestId} =\r\n      render(<ParkingSpace route={route} />);\r\n    const parkingSpace = getByTestId('parking-space-1');\r\n    fireEvent.press(parkingSpace);\r\n    const parkingTimeButton = getByText('Parking Time (tap to change)');\r\n    const carRegistrationInput = getByPlaceholderText(\r\n      'Enter vehicle registration',\r\n    );\r\n    expect(parkingTimeButton).toBeTruthy();\r\n    expect(carRegistrationInput).toBeTruthy();\r\n    const closeButton = getByText('Close');\r\n    fireEvent.press(closeButton);\r\n    const selectedParkingSpace = queryByTestId('selected-parking-space');\r\n    expect(selectedParkingSpace).toBeFalsy();\r\n  });\r\n\r\n  it('Submitting parking form marks parking space as occupied', () => {\r\n    const route = {params: {numspaces: 1}};\r\n    const {getByTestId, getByPlaceholderText, getByText, queryByText} = render(\r\n      <ParkingSpace route={route} />,\r\n    );\r\n    const parkingSpace = getByTestId('parking-space-1');\r\n    fireEvent.press(parkingSpace);\r\n    const carRegistrationInput = getByPlaceholderText(\r\n      'Enter vehicle registration',\r\n    );\r\n    const submitButton = getByText('Submit');\r\n    fireEvent.changeText(carRegistrationInput, 'ABC123');\r\n    fireEvent.press(submitButton);\r\n    const occupiedSpace = getByTestId('parking-space-1');\r\n    expect(occupiedSpace).toHaveStyle({backgroundColor: '#EFEFEF'});\r\n    const parkingDetails = getByTestId('parking-space-1').props.children;\r\n    console.log(parkingDetails.props);\r\n    expect(parkingDetails[1].props.children).toBe('ABC123');\r\n\r\n    expect(queryByText('Parking Time (tap to change)')).toBeNull();\r\n  });\r\n\r\n  it('Clicking on an occupied parking space opens payment screen', () => {\r\n    const route = {params: {numspaces: 1}};\r\n    const {getByTestId, getByPlaceholderText, getByText} = render(\r\n      <ParkingSpace route={route} />,\r\n    );\r\n    const parkingSpace = getByTestId('parking-space-1');\r\n    fireEvent.press(parkingSpace);\r\n    const carRegistrationInput = getByPlaceholderText(\r\n      'Enter vehicle registration',\r\n    );\r\n    const submitButton = getByText('Submit');\r\n    fireEvent.changeText(carRegistrationInput, 'ABC123');\r\n    fireEvent.press(submitButton);\r\n    fireEvent.press(parkingSpace);\r\n  });\r\n});\r\n"],"mappings":"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"}