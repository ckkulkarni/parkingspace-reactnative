3379039a1c6683252509843e0b7e751b
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _Platform = _interopRequireDefault(require("../Utilities/Platform"));
var _VirtualizedSectionList = _interopRequireDefault(require("./VirtualizedSectionList"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["stickySectionHeadersEnabled"];
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var SectionList = function (_React$PureComponent) {
  (0, _inherits2.default)(SectionList, _React$PureComponent);
  var _super = _createSuper(SectionList);
  function SectionList() {
    var _this;
    (0, _classCallCheck2.default)(this, SectionList);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _this.props = void 0;
    _this._wrapperListRef = void 0;
    _this._captureRef = function (ref) {
      _this._wrapperListRef = ref;
    };
    return _this;
  }
  (0, _createClass2.default)(SectionList, [{
    key: "scrollToLocation",
    value: function scrollToLocation(params) {
      if (this._wrapperListRef != null) {
        this._wrapperListRef.scrollToLocation(params);
      }
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      var listRef = this._wrapperListRef && this._wrapperListRef.getListRef();
      listRef && listRef.recordInteraction();
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      var listRef = this._wrapperListRef && this._wrapperListRef.getListRef();
      listRef && listRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      var listRef = this._wrapperListRef && this._wrapperListRef.getListRef();
      if (listRef) {
        return listRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      var listRef = this._wrapperListRef && this._wrapperListRef.getListRef();
      if (listRef) {
        return listRef.getScrollableNode();
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      var listRef = this._wrapperListRef && this._wrapperListRef.getListRef();
      if (listRef) {
        listRef.setNativeProps(props);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
        _stickySectionHeadersEnabled = _this$props.stickySectionHeadersEnabled,
        restProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
      var stickySectionHeadersEnabled = _stickySectionHeadersEnabled != null ? _stickySectionHeadersEnabled : _Platform.default.OS === 'ios';
      return (0, _jsxRuntime.jsx)(_VirtualizedSectionList.default, Object.assign({}, restProps, {
        stickySectionHeadersEnabled: stickySectionHeadersEnabled,
        ref: this._captureRef,
        getItemCount: function getItemCount(items) {
          return items.length;
        },
        getItem: function getItem(items, index) {
          return items[index];
        }
      }));
    }
  }]);
  return SectionList;
}(React.PureComponent);
exports.default = SectionList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZWN0aW9uTGlzdCIsInByb3BzIiwiX3dyYXBwZXJMaXN0UmVmIiwiX2NhcHR1cmVSZWYiLCJyZWYiLCJwYXJhbXMiLCJzY3JvbGxUb0xvY2F0aW9uIiwibGlzdFJlZiIsImdldExpc3RSZWYiLCJyZWNvcmRJbnRlcmFjdGlvbiIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwic2V0TmF0aXZlUHJvcHMiLCJfc3RpY2t5U2VjdGlvbkhlYWRlcnNFbmFibGVkIiwic3RpY2t5U2VjdGlvbkhlYWRlcnNFbmFibGVkIiwicmVzdFByb3BzIiwiUGxhdGZvcm0iLCJPUyIsIml0ZW1zIiwibGVuZ3RoIiwiaW5kZXgiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiXSwic291cmNlcyI6WyJTZWN0aW9uTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHtTY3JvbGxSZXNwb25kZXJUeXBlfSBmcm9tICcuLi9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldyc7XG5pbXBvcnQgdHlwZSB7XG4gIFByb3BzIGFzIFZpcnR1YWxpemVkU2VjdGlvbkxpc3RQcm9wcyxcbiAgU2Nyb2xsVG9Mb2NhdGlvblBhcmFtc1R5cGUsXG4gIFNlY3Rpb25CYXNlIGFzIF9TZWN0aW9uQmFzZSxcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZFNlY3Rpb25MaXN0JztcblxuaW1wb3J0IFBsYXRmb3JtIGZyb20gJy4uL1V0aWxpdGllcy9QbGF0Zm9ybSc7XG5pbXBvcnQgVmlydHVhbGl6ZWRTZWN0aW9uTGlzdCBmcm9tICcuL1ZpcnR1YWxpemVkU2VjdGlvbkxpc3QnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG50eXBlIEl0ZW0gPSBhbnk7XG5cbmV4cG9ydCB0eXBlIFNlY3Rpb25CYXNlPFNlY3Rpb25JdGVtVD4gPSBfU2VjdGlvbkJhc2U8U2VjdGlvbkl0ZW1UPjtcblxudHlwZSBSZXF1aXJlZFByb3BzPFNlY3Rpb25UOiBTZWN0aW9uQmFzZTxhbnk+PiA9IHt8XG4gIC8qKlxuICAgKiBUaGUgYWN0dWFsIGRhdGEgdG8gcmVuZGVyLCBha2luIHRvIHRoZSBgZGF0YWAgcHJvcCBpbiBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KS5cbiAgICpcbiAgICogR2VuZXJhbCBzaGFwZTpcbiAgICpcbiAgICogICAgIHNlY3Rpb25zOiAkUmVhZE9ubHlBcnJheTx7XG4gICAqICAgICAgIGRhdGE6ICRSZWFkT25seUFycmF5PFNlY3Rpb25JdGVtPixcbiAgICogICAgICAgcmVuZGVySXRlbT86ICh7aXRlbTogU2VjdGlvbkl0ZW0sIC4uLn0pID0+ID9SZWFjdC5FbGVtZW50PCo+LFxuICAgKiAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PzogP1JlYWN0Q2xhc3M8e2hpZ2hsaWdodGVkOiBib29sZWFuLCAuLi59PixcbiAgICogICAgIH0+XG4gICAqL1xuICBzZWN0aW9uczogJFJlYWRPbmx5QXJyYXk8U2VjdGlvblQ+LFxufH07XG5cbnR5cGUgT3B0aW9uYWxQcm9wczxTZWN0aW9uVDogU2VjdGlvbkJhc2U8YW55Pj4gPSB7fFxuICAvKipcbiAgICogRGVmYXVsdCByZW5kZXJlciBmb3IgZXZlcnkgaXRlbSBpbiBldmVyeSBzZWN0aW9uLiBDYW4gYmUgb3Zlci1yaWRkZW4gb24gYSBwZXItc2VjdGlvbiBiYXNpcy5cbiAgICovXG4gIHJlbmRlckl0ZW0/OiAoaW5mbzoge1xuICAgIGl0ZW06IEl0ZW0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzZWN0aW9uOiBTZWN0aW9uVCxcbiAgICBzZXBhcmF0b3JzOiB7XG4gICAgICBoaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gICAgICB1bmhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgICAgIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB2b2lkLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICAuLi5cbiAgfSkgPT4gbnVsbCB8IFJlYWN0LkVsZW1lbnQ8YW55PixcbiAgLyoqXG4gICAqIEEgbWFya2VyIHByb3BlcnR5IGZvciB0ZWxsaW5nIHRoZSBsaXN0IHRvIHJlLXJlbmRlciAoc2luY2UgaXQgaW1wbGVtZW50cyBgUHVyZUNvbXBvbmVudGApLiBJZlxuICAgKiBhbnkgb2YgeW91ciBgcmVuZGVySXRlbWAsIEhlYWRlciwgRm9vdGVyLCBldGMuIGZ1bmN0aW9ucyBkZXBlbmQgb24gYW55dGhpbmcgb3V0c2lkZSBvZiB0aGVcbiAgICogYGRhdGFgIHByb3AsIHN0aWNrIGl0IGhlcmUgYW5kIHRyZWF0IGl0IGltbXV0YWJseS5cbiAgICovXG4gIGV4dHJhRGF0YT86IGFueSxcbiAgLyoqXG4gICAqIEhvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBpbiB0aGUgaW5pdGlhbCBiYXRjaC4gVGhpcyBzaG91bGQgYmUgZW5vdWdoIHRvIGZpbGwgdGhlIHNjcmVlbiBidXQgbm90XG4gICAqIG11Y2ggbW9yZS4gTm90ZSB0aGVzZSBpdGVtcyB3aWxsIG5ldmVyIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIHRoZSB3aW5kb3dlZCByZW5kZXJpbmcgaW4gb3JkZXJcbiAgICogdG8gaW1wcm92ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2Ugb2Ygc2Nyb2xsLXRvLXRvcCBhY3Rpb25zLlxuICAgKi9cbiAgaW5pdGlhbE51bVRvUmVuZGVyPzogP251bWJlcixcbiAgLyoqXG4gICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2Ygc2Nyb2xsLiBVc2VzIHNjYWxlIHRyYW5zZm9ybXMgb2YgLTEuXG4gICAqL1xuICBpbnZlcnRlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IGEgdW5pcXVlIGtleSBmb3IgYSBnaXZlbiBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguIEtleSBpcyB1c2VkIGZvciBjYWNoaW5nXG4gICAqIGFuZCBhcyB0aGUgcmVhY3Qga2V5IHRvIHRyYWNrIGl0ZW0gcmUtb3JkZXJpbmcuIFRoZSBkZWZhdWx0IGV4dHJhY3RvciBjaGVja3MgaXRlbS5rZXksIHRoZW5cbiAgICogZmFsbHMgYmFjayB0byB1c2luZyB0aGUgaW5kZXgsIGxpa2UgcmVhY3QgZG9lcy4gTm90ZSB0aGF0IHRoaXMgc2V0cyBrZXlzIGZvciBlYWNoIGl0ZW0sIGJ1dFxuICAgKiBlYWNoIG92ZXJhbGwgc2VjdGlvbiBzdGlsbCBuZWVkcyBpdHMgb3duIGtleS5cbiAgICovXG4gIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAvKipcbiAgICogQ2FsbGVkIG9uY2Ugd2hlbiB0aGUgc2Nyb2xsIHBvc2l0aW9uIGdldHMgd2l0aGluIGBvbkVuZFJlYWNoZWRUaHJlc2hvbGRgIG9mIHRoZSByZW5kZXJlZFxuICAgKiBjb250ZW50LlxuICAgKi9cbiAgb25FbmRSZWFjaGVkPzogPyhpbmZvOiB7ZGlzdGFuY2VGcm9tRW5kOiBudW1iZXIsIC4uLn0pID0+IHZvaWQsXG4gIC8qKlxuICAgKiBOb3RlOiBtYXkgaGF2ZSBidWdzIChtaXNzaW5nIGNvbnRlbnQpIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyAtIHVzZSBhdCB5b3VyIG93biByaXNrLlxuICAgKlxuICAgKiBUaGlzIG1heSBpbXByb3ZlIHNjcm9sbCBwZXJmb3JtYW5jZSBmb3IgbGFyZ2UgbGlzdHMuXG4gICAqL1xuICByZW1vdmVDbGlwcGVkU3Vidmlld3M/OiBib29sZWFuLFxufH07XG5cbmV4cG9ydCB0eXBlIFByb3BzPFNlY3Rpb25UPiA9IHt8XG4gIC4uLiREaWZmPFxuICAgIFZpcnR1YWxpemVkU2VjdGlvbkxpc3RQcm9wczxTZWN0aW9uVD4sXG4gICAge1xuICAgICAgZ2V0SXRlbTogJFByb3BlcnR5VHlwZTxWaXJ0dWFsaXplZFNlY3Rpb25MaXN0UHJvcHM8U2VjdGlvblQ+LCAnZ2V0SXRlbSc+LFxuICAgICAgZ2V0SXRlbUNvdW50OiAkUHJvcGVydHlUeXBlPFxuICAgICAgICBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0UHJvcHM8U2VjdGlvblQ+LFxuICAgICAgICAnZ2V0SXRlbUNvdW50JyxcbiAgICAgID4sXG4gICAgICByZW5kZXJJdGVtOiAkUHJvcGVydHlUeXBlPFxuICAgICAgICBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0UHJvcHM8U2VjdGlvblQ+LFxuICAgICAgICAncmVuZGVySXRlbScsXG4gICAgICA+LFxuICAgICAga2V5RXh0cmFjdG9yOiAkUHJvcGVydHlUeXBlPFxuICAgICAgICBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0UHJvcHM8U2VjdGlvblQ+LFxuICAgICAgICAna2V5RXh0cmFjdG9yJyxcbiAgICAgID4sXG4gICAgICAuLi5cbiAgICB9LFxuICA+LFxuICAuLi5SZXF1aXJlZFByb3BzPFNlY3Rpb25UPixcbiAgLi4uT3B0aW9uYWxQcm9wczxTZWN0aW9uVD4sXG58fTtcblxuLyoqXG4gKiBBIHBlcmZvcm1hbnQgaW50ZXJmYWNlIGZvciByZW5kZXJpbmcgc2VjdGlvbmVkIGxpc3RzLCBzdXBwb3J0aW5nIHRoZSBtb3N0IGhhbmR5IGZlYXR1cmVzOlxuICpcbiAqICAtIEZ1bGx5IGNyb3NzLXBsYXRmb3JtLlxuICogIC0gQ29uZmlndXJhYmxlIHZpZXdhYmlsaXR5IGNhbGxiYWNrcy5cbiAqICAtIExpc3QgaGVhZGVyIHN1cHBvcnQuXG4gKiAgLSBMaXN0IGZvb3RlciBzdXBwb3J0LlxuICogIC0gSXRlbSBzZXBhcmF0b3Igc3VwcG9ydC5cbiAqICAtIFNlY3Rpb24gaGVhZGVyIHN1cHBvcnQuXG4gKiAgLSBTZWN0aW9uIHNlcGFyYXRvciBzdXBwb3J0LlxuICogIC0gSGV0ZXJvZ2VuZW91cyBkYXRhIGFuZCBpdGVtIHJlbmRlcmluZyBzdXBwb3J0LlxuICogIC0gUHVsbCB0byBSZWZyZXNoLlxuICogIC0gU2Nyb2xsIGxvYWRpbmcuXG4gKlxuICogSWYgeW91IGRvbid0IG5lZWQgc2VjdGlvbiBzdXBwb3J0IGFuZCB3YW50IGEgc2ltcGxlciBpbnRlcmZhY2UsIHVzZVxuICogW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdCkuXG4gKlxuICogU2ltcGxlIEV4YW1wbGVzOlxuICpcbiAqICAgICA8U2VjdGlvbkxpc3RcbiAqICAgICAgIHJlbmRlckl0ZW09eyh7aXRlbX0pID0+IDxMaXN0SXRlbSB0aXRsZT17aXRlbX0gLz59XG4gKiAgICAgICByZW5kZXJTZWN0aW9uSGVhZGVyPXsoe3NlY3Rpb259KSA9PiA8SGVhZGVyIHRpdGxlPXtzZWN0aW9uLnRpdGxlfSAvPn1cbiAqICAgICAgIHNlY3Rpb25zPXtbIC8vIGhvbW9nZW5lb3VzIHJlbmRlcmluZyBiZXR3ZWVuIHNlY3Rpb25zXG4gKiAgICAgICAgIHtkYXRhOiBbLi4uXSwgdGl0bGU6IC4uLn0sXG4gKiAgICAgICAgIHtkYXRhOiBbLi4uXSwgdGl0bGU6IC4uLn0sXG4gKiAgICAgICAgIHtkYXRhOiBbLi4uXSwgdGl0bGU6IC4uLn0sXG4gKiAgICAgICBdfVxuICogICAgIC8+XG4gKlxuICogICAgIDxTZWN0aW9uTGlzdFxuICogICAgICAgc2VjdGlvbnM9e1sgLy8gaGV0ZXJvZ2VuZW91cyByZW5kZXJpbmcgYmV0d2VlbiBzZWN0aW9uc1xuICogICAgICAgICB7ZGF0YTogWy4uLl0sIHJlbmRlckl0ZW06IC4uLn0sXG4gKiAgICAgICAgIHtkYXRhOiBbLi4uXSwgcmVuZGVySXRlbTogLi4ufSxcbiAqICAgICAgICAge2RhdGE6IFsuLi5dLCByZW5kZXJJdGVtOiAuLi59LFxuICogICAgICAgXX1cbiAqICAgICAvPlxuICpcbiAqIFRoaXMgaXMgYSBjb252ZW5pZW5jZSB3cmFwcGVyIGFyb3VuZCBbYDxWaXJ0dWFsaXplZExpc3Q+YF0oZG9jcy92aXJ0dWFsaXplZGxpc3QpLFxuICogYW5kIHRodXMgaW5oZXJpdHMgaXRzIHByb3BzIChhcyB3ZWxsIGFzIHRob3NlIG9mIGBTY3JvbGxWaWV3YCkgdGhhdCBhcmVuJ3QgZXhwbGljaXRseSBsaXN0ZWRcbiAqIGhlcmUsIGFsb25nIHdpdGggdGhlIGZvbGxvd2luZyBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZCBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbkxpc3Q8XG4gIFNlY3Rpb25UOiBTZWN0aW9uQmFzZTxhbnk+LFxuPiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM8U2VjdGlvblQ+LCB2b2lkPiB7XG4gIHByb3BzOiBQcm9wczxTZWN0aW9uVD47XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdG8gdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBgc2VjdGlvbkluZGV4YCBhbmQgYGl0ZW1JbmRleGAgKHdpdGhpbiB0aGUgc2VjdGlvbilcbiAgICogcG9zaXRpb25lZCBpbiB0aGUgdmlld2FibGUgYXJlYSBzdWNoIHRoYXQgYHZpZXdQb3NpdGlvbmAgMCBwbGFjZXMgaXQgYXQgdGhlIHRvcCAoYW5kIG1heSBiZVxuICAgKiBjb3ZlcmVkIGJ5IGEgc3RpY2t5IGhlYWRlciksIDEgYXQgdGhlIGJvdHRvbSwgYW5kIDAuNSBjZW50ZXJlZCBpbiB0aGUgbWlkZGxlLiBgdmlld09mZnNldGAgaXMgYVxuICAgKiBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIG9mZnNldCB0aGUgZmluYWwgdGFyZ2V0IHBvc2l0aW9uLCBlLmcuIHRvIGNvbXBlbnNhdGUgZm9yIHN0aWNreVxuICAgKiBoZWFkZXJzLlxuICAgKlxuICAgKiBOb3RlOiBjYW5ub3Qgc2Nyb2xsIHRvIGxvY2F0aW9ucyBvdXRzaWRlIHRoZSByZW5kZXIgd2luZG93IHdpdGhvdXQgc3BlY2lmeWluZyB0aGVcbiAgICogYGdldEl0ZW1MYXlvdXRgIHByb3AuXG4gICAqL1xuICBzY3JvbGxUb0xvY2F0aW9uKHBhcmFtczogU2Nyb2xsVG9Mb2NhdGlvblBhcmFtc1R5cGUpIHtcbiAgICBpZiAodGhpcy5fd3JhcHBlckxpc3RSZWYgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fd3JhcHBlckxpc3RSZWYuc2Nyb2xsVG9Mb2NhdGlvbihwYXJhbXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxscyB0aGUgbGlzdCBhbiBpbnRlcmFjdGlvbiBoYXMgb2NjdXJyZWQsIHdoaWNoIHNob3VsZCB0cmlnZ2VyIHZpZXdhYmlsaXR5IGNhbGN1bGF0aW9ucywgZS5nLlxuICAgKiBpZiBgd2FpdEZvckludGVyYWN0aW9uc2AgaXMgdHJ1ZSBhbmQgdGhlIHVzZXIgaGFzIG5vdCBzY3JvbGxlZC4gVGhpcyBpcyB0eXBpY2FsbHkgY2FsbGVkIGJ5XG4gICAqIHRhcHMgb24gaXRlbXMgb3IgYnkgbmF2aWdhdGlvbiBhY3Rpb25zLlxuICAgKi9cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgY29uc3QgbGlzdFJlZiA9IHRoaXMuX3dyYXBwZXJMaXN0UmVmICYmIHRoaXMuX3dyYXBwZXJMaXN0UmVmLmdldExpc3RSZWYoKTtcbiAgICBsaXN0UmVmICYmIGxpc3RSZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgc2Nyb2xsIGluZGljYXRvcnMgbW9tZW50YXJpbHkuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICBjb25zdCBsaXN0UmVmID0gdGhpcy5fd3JhcHBlckxpc3RSZWYgJiYgdGhpcy5fd3JhcHBlckxpc3RSZWYuZ2V0TGlzdFJlZigpO1xuICAgIGxpc3RSZWYgJiYgbGlzdFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyKCk6ID9TY3JvbGxSZXNwb25kZXJUeXBlIHtcbiAgICBjb25zdCBsaXN0UmVmID0gdGhpcy5fd3JhcHBlckxpc3RSZWYgJiYgdGhpcy5fd3JhcHBlckxpc3RSZWYuZ2V0TGlzdFJlZigpO1xuICAgIGlmIChsaXN0UmVmKSB7XG4gICAgICByZXR1cm4gbGlzdFJlZi5nZXRTY3JvbGxSZXNwb25kZXIoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxhYmxlTm9kZSgpOiBhbnkge1xuICAgIGNvbnN0IGxpc3RSZWYgPSB0aGlzLl93cmFwcGVyTGlzdFJlZiAmJiB0aGlzLl93cmFwcGVyTGlzdFJlZi5nZXRMaXN0UmVmKCk7XG4gICAgaWYgKGxpc3RSZWYpIHtcbiAgICAgIHJldHVybiBsaXN0UmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGNvbnN0IGxpc3RSZWYgPSB0aGlzLl93cmFwcGVyTGlzdFJlZiAmJiB0aGlzLl93cmFwcGVyTGlzdFJlZi5nZXRMaXN0UmVmKCk7XG4gICAgaWYgKGxpc3RSZWYpIHtcbiAgICAgIGxpc3RSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICBjb25zdCB7XG4gICAgICBzdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQ6IF9zdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQsXG4gICAgICAuLi5yZXN0UHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQgPVxuICAgICAgX3N0aWNreVNlY3Rpb25IZWFkZXJzRW5hYmxlZCA/PyBQbGF0Zm9ybS5PUyA9PT0gJ2lvcyc7XG4gICAgcmV0dXJuIChcbiAgICAgIDxWaXJ0dWFsaXplZFNlY3Rpb25MaXN0XG4gICAgICAgIHsuLi5yZXN0UHJvcHN9XG4gICAgICAgIHN0aWNreVNlY3Rpb25IZWFkZXJzRW5hYmxlZD17c3RpY2t5U2VjdGlvbkhlYWRlcnNFbmFibGVkfVxuICAgICAgICByZWY9e3RoaXMuX2NhcHR1cmVSZWZ9XG4gICAgICAgIGdldEl0ZW1Db3VudD17aXRlbXMgPT4gaXRlbXMubGVuZ3RofVxuICAgICAgICBnZXRJdGVtPXsoaXRlbXMsIGluZGV4KSA9PiBpdGVtc1tpbmRleF19XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBfd3JhcHBlckxpc3RSZWY6ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0PjtcbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfY2FwdHVyZVJlZiA9IHJlZiA9PiB7XG4gICAgdGhpcy5fd3JhcHBlckxpc3RSZWYgPSByZWY7XG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUM7QUFBQTtFQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNiO0FBQ0E7QUFDQTtBQUEr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